CREATE DATABASE `sgt_consulta` /*!40100 DEFAULT CHARACTER SET latin1 */;
USE sgt_consulta; 
CREATE TABLE `itens` (
  `cod_item` int(11) NOT NULL,
  `cod_item_pai` int(11) DEFAULT NULL,
  `tipo_item` char(1) NOT NULL,
  `nome` varchar(255) NOT NULL,
  `situacao` char(1) NOT NULL DEFAULT 'A',
  `dat_inclusao` date NOT NULL,
  `usu_inclusao` varchar(30) NOT NULL,
  `dat_alteracao` datetime DEFAULT NULL,
  `usu_alteracao` varchar(30) DEFAULT NULL,
  PRIMARY KEY (`cod_item`,`tipo_item`),
  KEY `cod_item` (`cod_item`),
  KEY `cod_item_pai` (`cod_item_pai`,`tipo_item`),
  CONSTRAINT `FK_itens` FOREIGN KEY (`cod_item_pai`, `tipo_item`) REFERENCES `itens` (`cod_item`, `tipo_item`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=latin1 ROW_FORMAT=COMPACT;
CREATE TABLE `classes` (
  `cod_classe` int(11) NOT NULL,
  `natureza` varchar(100) DEFAULT NULL,
  `dispositivo_legal` varchar(250) DEFAULT NULL,
  `artigo` varchar(250) DEFAULT NULL,
  `sigla` varchar(20) NOT NULL,
  `sigla_antiga` varchar(20) DEFAULT NULL,
  `polo_ativo` varchar(30) NOT NULL,
  `polo_passivo` varchar(30) NOT NULL,
  `glossario` text,
  `numeracao_propria` char(1) NOT NULL DEFAULT 'S',
  `just_es_1grau` char(1) DEFAULT 'N',
  `just_es_2grau` char(1) DEFAULT 'N',
  `just_es_juizado_es` char(1) DEFAULT 'N',
  `just_es_turmas` char(1) DEFAULT 'N',
  `just_es_1grau_mil` char(1) DEFAULT 'N',
  `just_es_2grau_mil` char(1) DEFAULT 'N',
  `just_es_juizado_es_fp` char(1) DEFAULT 'N',
  `just_tu_es_un` char(1) DEFAULT 'N',
  `just_fed_1grau` char(1) DEFAULT 'N',
  `just_fed_2grau` char(1) DEFAULT 'N',
  `just_fed_juizado_es` char(1) DEFAULT 'N',
  `just_fed_turmas` char(1) DEFAULT 'N',
  `just_fed_nacional` char(1) DEFAULT 'N',
  `just_fed_regional` char(1) DEFAULT 'N',
  `just_trab_1grau` char(1) DEFAULT 'N',
  `just_trab_2grau` char(1) DEFAULT 'N',
  `just_trab_tst` char(1) DEFAULT 'N',
  `just_trab_csjt` enum('S','N') DEFAULT 'N' COMMENT 'armazenar (S)im ou (N)ão para indicar se um determinado assunto, movimento ou classe, com relação à justiça do trabalho é vinculado ao CSJT Conselho Superior da Justiça do Trabalho.',
  `stf` char(1) DEFAULT 'N',
  `stj` char(1) DEFAULT 'N',
  `cjf` char(1) DEFAULT 'N',
  `cnj` char(1) DEFAULT 'N',
  `just_mil_uniao_1grau` char(1) DEFAULT 'N',
  `just_mil_uniao_stm` char(1) DEFAULT 'N',
  `just_mil_est_1grau` char(1) DEFAULT 'N',
  `just_mil_est_tjm` char(1) DEFAULT 'N',
  `just_elei_1grau` char(1) DEFAULT 'N',
  `just_elei_2grau` char(1) DEFAULT 'N',
  `just_elei_tse` char(1) DEFAULT 'N',
  `tipo_item` char(1) NOT NULL DEFAULT 'C',
  `usu_inclusao` varchar(30) DEFAULT NULL,
  `dat_inclusao` datetime DEFAULT NULL,
  `dsc_ip_usu_inclusao` varchar(15) DEFAULT NULL,
  `usu_alteracao` varchar(30) DEFAULT NULL,
  PRIMARY KEY (`cod_classe`),
  KEY `cod_classe` (`cod_classe`,`tipo_item`),
  CONSTRAINT `classes_fk` FOREIGN KEY (`cod_classe`, `tipo_item`) REFERENCES `itens` (`cod_item`, `tipo_item`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=latin1 ROW_FORMAT=COMPACT;
CREATE TABLE `assuntos` (
  `cod_assunto` int(11) NOT NULL,
  `dispositivo_legal` varchar(250) DEFAULT NULL,
  `artigo` varchar(250) DEFAULT NULL,
  `glossario` text,
  `sigiloso` char(1) DEFAULT NULL,
  `assunto_secundario` char(1) DEFAULT NULL,
  `crime_antecedente` char(1) DEFAULT 'N',
  `just_es_1grau` char(1) DEFAULT 'N',
  `just_es_2grau` char(1) DEFAULT 'N',
  `just_es_juizado_es` char(1) DEFAULT 'N',
  `just_es_turmas` char(1) DEFAULT 'N',
  `just_es_1grau_mil` char(1) DEFAULT 'N',
  `just_es_2grau_mil` char(1) DEFAULT 'N',
  `just_es_juizado_es_fp` char(1) DEFAULT 'N',
  `just_tu_es_un` char(1) DEFAULT 'N',
  `just_fed_1grau` char(1) DEFAULT 'N',
  `just_fed_2grau` char(1) DEFAULT 'N',
  `just_fed_juizado_es` char(1) DEFAULT 'N',
  `just_fed_turmas` char(1) DEFAULT 'N',
  `just_fed_nacional` char(1) DEFAULT 'N',
  `just_fed_regional` char(1) DEFAULT 'N',
  `just_trab_1grau` char(1) DEFAULT 'N',
  `just_trab_2grau` char(1) DEFAULT 'N',
  `just_trab_tst` char(1) DEFAULT 'N',
  `just_trab_csjt` enum('S','N') DEFAULT 'N' COMMENT 'armazenar (S)im ou (N)ão para indicar se um determinado assunto, movimento ou classe, com relação à justiça do trabalho é vinculado ao CSJT Conselho Superior da Justiça do Trabalho.',
  `stf` char(1) DEFAULT 'N',
  `stj` char(1) DEFAULT 'N',
  `cjf` char(1) DEFAULT 'N',
  `cnj` char(1) DEFAULT 'N',
  `just_mil_uniao_1grau` char(1) DEFAULT 'N',
  `just_mil_uniao_stm` char(1) DEFAULT 'N',
  `just_mil_est_1grau` char(1) DEFAULT 'N',
  `just_mil_est_tjm` char(1) DEFAULT 'N',
  `just_elei_1grau` char(1) DEFAULT 'N',
  `just_elei_2grau` char(1) DEFAULT 'N',
  `just_elei_tse` char(1) DEFAULT 'N',
  `tipo_item` char(1) NOT NULL DEFAULT 'A',
  `usu_inclusao` varchar(30) DEFAULT NULL,
  `dat_inclusao` datetime DEFAULT NULL,
  `dsc_ip_usu_inclusao` varchar(15) DEFAULT NULL,
  `usu_alteracao` varchar(30) DEFAULT NULL,
  PRIMARY KEY (`cod_assunto`),
  KEY `cod_assunto` (`cod_assunto`,`tipo_item`),
  CONSTRAINT `assuntos_fk` FOREIGN KEY (`cod_assunto`, `tipo_item`) REFERENCES `itens` (`cod_item`, `tipo_item`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=latin1 ROW_FORMAT=COMPACT;
CREATE TABLE `movimentos` (
  `cod_movimento` int(11) NOT NULL,
  `movimento` varchar(250) DEFAULT NULL,
  `visibilidade_externa` char(1) DEFAULT NULL,
  `monocratico` char(1) DEFAULT NULL,
  `colegiado` char(1) DEFAULT NULL,
  `presidente_vice` char(1) DEFAULT NULL,
  `flg_papel` char(1) DEFAULT NULL,
  `flg_eletronico` char(1) DEFAULT 'N',
  `dispositivo_legal` varchar(250) DEFAULT NULL,
  `artigo` varchar(250) DEFAULT NULL,
  `glossario` text,
  `just_es_1grau` char(1) DEFAULT 'N',
  `just_es_2grau` char(1) DEFAULT 'N',
  `just_es_juizado_es` char(1) DEFAULT 'N',
  `just_es_turmas` char(1) DEFAULT 'N',
  `just_es_1grau_mil` char(1) DEFAULT 'N',
  `just_es_2grau_mil` char(1) DEFAULT 'N',
  `just_es_juizado_es_fp` char(1) DEFAULT 'N',
  `just_tu_es_un` char(1) DEFAULT 'N',
  `just_fed_1grau` char(1) DEFAULT 'N',
  `just_fed_2grau` char(1) DEFAULT 'N',
  `just_fed_juizado_es` char(1) DEFAULT 'N',
  `just_fed_turmas` char(1) DEFAULT 'N',
  `just_fed_nacional` char(1) DEFAULT 'N',
  `just_fed_regional` char(1) DEFAULT 'N',
  `just_trab_1grau` char(1) DEFAULT 'N',
  `just_trab_2grau` char(1) DEFAULT 'N',
  `just_trab_tst` char(1) DEFAULT 'N',
  `just_trab_csjt` enum('S','N') DEFAULT 'N' COMMENT 'armazenar (S)im ou (N)ão para indicar se um determinado assunto, movimento ou classe, com relação à justiça do trabalho é vinculado ao CSJT Conselho Superior da Justiça do Trabalho.',
  `stf` char(1) DEFAULT 'N',
  `stj` char(1) DEFAULT 'N',
  `cjf` char(1) DEFAULT 'N',
  `cnj` char(1) DEFAULT 'N',
  `just_mil_uniao_1grau` char(1) DEFAULT 'N',
  `just_mil_uniao_stm` char(1) DEFAULT 'N',
  `just_mil_est_1grau` char(1) DEFAULT 'N',
  `just_mil_est_tjm` char(1) DEFAULT 'N',
  `just_elei_1grau` char(1) DEFAULT 'N',
  `just_elei_2grau` char(1) DEFAULT 'N',
  `just_elei_tse` char(1) DEFAULT 'N',
  `tipo_item` char(1) NOT NULL DEFAULT 'M',
  `usu_inclusao` varchar(30) DEFAULT NULL,
  `dat_inclusao` datetime DEFAULT NULL,
  `dsc_ip_usu_inclusao` varchar(15) DEFAULT NULL,
  `usu_alteracao` varchar(30) DEFAULT NULL,
  PRIMARY KEY (`cod_movimento`),
  KEY `cod_movimento` (`cod_movimento`,`tipo_item`),
  CONSTRAINT `movimentos_fk` FOREIGN KEY (`cod_movimento`, `tipo_item`) REFERENCES `itens` (`cod_item`, `tipo_item`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=latin1 ROW_FORMAT=COMPACT;
CREATE TABLE `tipo_complemento` (
  `seq_tipo_complemento` int(11) NOT NULL AUTO_INCREMENT,
  `desc_tipo_complemento` varchar(250) NOT NULL,
  `dsc_observacao` text,
  PRIMARY KEY (`seq_tipo_complemento`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=latin1 ROW_FORMAT=COMPACT;
CREATE TABLE `complemento` (
  `seq_complemento` int(11) NOT NULL AUTO_INCREMENT,
  `seq_tipo_complemento` int(11) NOT NULL,
  `dsc_complemento` varchar(255) NOT NULL,
  `dsc_observacao` text,
  PRIMARY KEY (`seq_complemento`),
  KEY `FK_complemento` (`seq_tipo_complemento`),
  CONSTRAINT `FK_complemento` FOREIGN KEY (`seq_tipo_complemento`) REFERENCES `tipo_complemento` (`seq_tipo_complemento`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=41 DEFAULT CHARSET=latin1;
CREATE TABLE `complemento_movimento` (
  `seq_compl_mov` int(11) NOT NULL AUTO_INCREMENT,
  `seq_complemento` int(11) NOT NULL,
  `cod_movimento` int(11) NOT NULL,
  `data_inclusao` datetime NOT NULL,
  `usu_inclusao` varchar(30) DEFAULT NULL,
  PRIMARY KEY (`seq_compl_mov`),
  KEY `FK_complemento_movimento` (`seq_complemento`),
  KEY `FK2_complemento_movimento` (`cod_movimento`),
  CONSTRAINT `FK2_complemento_movimento` FOREIGN KEY (`cod_movimento`) REFERENCES `movimentos` (`cod_movimento`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `FK_complemento_movimento` FOREIGN KEY (`seq_complemento`) REFERENCES `complemento` (`seq_complemento`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=275 DEFAULT CHARSET=latin1;
CREATE TABLE `complemento_tabelado` (
  `seq_compl_tabelado` int(11) NOT NULL AUTO_INCREMENT,
  `seq_complemento` int(11) NOT NULL,
  `dsc_valor_tabelado` varchar(250) NOT NULL,
  PRIMARY KEY (`seq_compl_tabelado`),
  KEY `FK_complemento_tabelado` (`seq_complemento`),
  CONSTRAINT `FK_complemento_tabelado` FOREIGN KEY (`seq_complemento`) REFERENCES `complemento` (`seq_complemento`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=202 DEFAULT CHARSET=latin1;
CREATE TABLE `procedimento_complementos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `cod_movimento` int(11) NOT NULL,
  `seq_tipo_complemento` int(11) NOT NULL,
  `valor` varchar(750) NOT NULL,
  `dat_inclusao` datetime NOT NULL,
  `usu_inclusao` varchar(90) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `seq_item` (`cod_movimento`),
  KEY `seq_tipo_complemento` (`seq_tipo_complemento`),
  CONSTRAINT `procedimento_complementos_fk` FOREIGN KEY (`cod_movimento`) REFERENCES `movimentos` (`cod_movimento`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=4876 DEFAULT CHARSET=latin1 ROW_FORMAT=COMPACT;
CREATE TABLE `temporariedade` (
  `seq_temp` int(11) NOT NULL AUTO_INCREMENT,
  `temporariedade` varchar(20) NOT NULL,
  `txt_temp` varchar(20) NOT NULL,
  `tipo_justica` char(1) NOT NULL,
  `txt_tipo_justica` varchar(50) NOT NULL,
  `ordem` int(11) NOT NULL,
  `status` char(1) NOT NULL,
  PRIMARY KEY (`seq_temp`)
) ENGINE=InnoDB AUTO_INCREMENT=89 DEFAULT CHARSET=latin1;
CREATE TABLE `tipo_ramo_justica` (
  `seq_tipo_ramo_justica` int(5) NOT NULL COMMENT 'Armazena a chave primária da tabela sgt.tipo_ramo_justica, incremetada automaticamente pelo banco.',
  `dsc_ramo_justica` varchar(50) DEFAULT NULL COMMENT 'Armazena a descrição do ramo da justica, ex. justica eleitoral, justica militar etc...',
  `nom_ramo_justica` varchar(100) DEFAULT NULL COMMENT 'Armazena o nome completo do ramo da justiça.',
  PRIMARY KEY (`seq_tipo_ramo_justica`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COMMENT='Armazena os tipos de justiça para fins de autorização.';
CREATE TABLE `temp_item` (
  `seq_temp_item` int(11) NOT NULL AUTO_INCREMENT COMMENT 'Armazena a chave primária da tabela sgt.temp_item, incremetada automaticamente pelo banco.',
  `seq_item` int(11) NOT NULL COMMENT 'Armazena parte da chave primária da tabela sgt.itens, para indicar o item da temporalidade.',
  `seq_temp` int(11) NOT NULL COMMENT 'Armazena chave primária da tabela sgt.temporalidade, para indicar a temporalidade do item.',
  `tipo_item` varchar(1) NOT NULL COMMENT 'Armazena parte da chave primária da tabela sgt.itens, para indicar o item da temporalidade.',
  `temp_observacao` text COMMENT 'Armazena a descrição da observação.',
  `seq_tipo_ramo_justica` int(5) DEFAULT NULL COMMENT 'Armazena a chave primária da tabela sgt.tipo_ramo_justica, para indicar o ramo da justiça.',
  `usu_inclusao` varchar(30) NOT NULL COMMENT 'Armazena a sigla do usuário que fez a inclusão do registro.',
  `dat_inclusao` datetime NOT NULL COMMENT 'Armazena a data em que o registro foi incluido.',
  PRIMARY KEY (`seq_temp_item`),
  UNIQUE KEY `uk_teit_tipo_item` (`seq_item`,`tipo_item`,`seq_tipo_ramo_justica`),
  KEY `fk_tipo_ramo_justica_teit` (`seq_tipo_ramo_justica`),
  KEY `fk_temporalidade_teit` (`seq_temp`),
  KEY `fk_itens_teit` (`seq_item`,`tipo_item`),
  CONSTRAINT `fk_itens_teit` FOREIGN KEY (`seq_item`, `tipo_item`) REFERENCES `itens` (`cod_item`, `tipo_item`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_temporalidade_teit` FOREIGN KEY (`seq_temp`) REFERENCES `temporariedade` (`seq_temp`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_tipo_ramo_justica_teit` FOREIGN KEY (`seq_tipo_ramo_justica`) REFERENCES `tipo_ramo_justica` (`seq_tipo_ramo_justica`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=89829 DEFAULT CHARSET=latin1;
